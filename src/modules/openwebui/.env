# ==============================================================
# Environment Configuration — Local AI Platform
# Author: Erik van Busschbach
# Updated: 2025-08-13
# Description:
#   - Complete parameter contract for the stack.
#   - Non‑secret defaults stored here and committed.
#   - Secrets use placeholders (__CHANGE_ME__) and live in .env.local
#   - Derived values (__GENERATED_AT_RUNTIME__) are auto‑set by start‑stack.sh
# ==============================================================

# ---------- Service Ports ----------
OPENWEBUI_PORT=3000
FLOWISE_PORT=3001
REDIS_PORT=6379
OLLAMA_PORT=11434
QDRANT_PORT=6333
SEARXNG_PORT=7777
POSTGRES_PORT=5432
LITELLM_PORT=4000

# ---------- Global PostgreSQL Superuser ----------
POSTGRES_HOST=postgres
POSTGRES_DB=postgres
POSTGRES_SUPERUSER=pgadmin
POSTGRES_SUPERPASS=__CHANGE_ME__          # real value in .env.local

# ENTRYPOINT compatibility for postgres official image:
POSTGRES_USER=${POSTGRES_SUPERUSER}
POSTGRES_PASSWORD=${POSTGRES_SUPERPASS}   # real value in .env.local

# ---------- LiteLLM Database Configuration ----------
LITELLM_DB_NAME=litellm_db
LITELLM_DB_USER=llm_user
LITELLM_DB_PASS=__CHANGE_ME__             # real value in .env.local

# ---------- LiteLLM Application Configuration ----------
LITELLM_MASTER_KEY=__CHANGE_ME__          # real value in .env.local
LITELLM_SALT_KEY=__CHANGE_ME__            # real value in .env.local
STORE_MODEL_IN_DB=true
LITELLM_LOG=DEBUG

# ---------- n8n Database Configuration ----------
N8N_DB_NAME=n8n_db
N8N_DB_USER=n8n_user
N8N_DB_PASS=__CHANGE_ME__                 # real value in .env.local

# ---------- n8n Application Configuration ----------
N8N_ENCRYPTION_KEY=__CHANGE_ME__               # real value in .env.local
N8N_USER_MANAGEMENT_JWT_SECRET=__CHANGE_ME__   # real value in .env.local
N8N_RUNNERS_ENABLED=true
N8N_DIAGNOSTICS_ENABLED=false
N8N_PERSONALIZATION_ENABLED=false

# ---------- Derived Composite Values ----------
APP_DATABASES=__GENERATED_AT_RUNTIME__        # e.g. litellm|litellm_db|llm_user|****,n8n|n8n_db|n8n_user|****
LITELLM_DATABASE_URL=__GENERATED_AT_RUNTIME__ # e.g. postgresql://llm_user:****@postgres:5432/litellm_db
DATABASE_URL=__GENERATED_AT_RUNTIME__
