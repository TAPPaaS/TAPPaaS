# ============================================================================
# Docker Compose Environment Configuration
# Project: Local AI Platform (OpenWebUI, LiteLLM, Searxng, Ollama, n8n, Postgres, etc.)
# Author: Erik van Busschbach
# Last updated: 2025-08-11
# Version: 250811v4
# ============================================================================

# ---------- Service Ports (for env management) ----------
# Port OPENWEBUI frontend listens on
OPENWEBUI_PORT=3000
# Port FLOWISE listens on
FLOWISE_PORT=3001
# Port REDIS cache/queue listens on
REDIS_PORT=6379
# Port OLLAMA local inference engine listens on
OLLAMA_PORT=11434
# Port QDRANT vector database listens on
QDRANT_PORT=6333
# Port SEARXNG meta search engine listens on
SEARXNG_PORT=7777
# Port POSTGRES listens on
POSTGRES_PORT=5432
# Port LiteLLM listens on
LITELLM_PORT=4000

# ---------- Global PostgreSQL Superuser (for container init, NOT used by apps) ----------
# Host name used by containers to reach Postgres
POSTGRES_HOST=postgres
# Default database for Postgres
POSTGRES_DB=postgres
# Superuser for postgres container
POSTGRES_SUPERUSER=pgadmin
# Used for compatibility with some tool configs
POSTGRES_USER=pgadmin
# Highly privileged password (not used by apps)
POSTGRES_SUPERPASS=postgres-secure-pass-2025

# ---------- LiteLLM DB ----------
LITELLM_DB_NAME=litellm_db
LITELLM_DB_USER=llm_user
LITELLM_DB_PASS=llm_secure_pass_2025

# ---------- All app databases (used by init scripts) ----------
# Used by init script to create databases and users
# Format: app_name|db_name|db_user|db_password
# Example: app1|app1_db|app1_user|app1_secure_pass_2025
# Note: Ensure that the database names and users are unique across all applications
#       and that passwords are strong and secure.
#       The init script will create these databases and users with appropriate permissions.
# APP_DATABASES=litellm|litellm_db|llm_user|llm_secure_pass_2025,n8n|n8n_db|n8n_user|n8n_secure_pass_2025
APP_DATABASES=litellm|${LITELLM_DB_NAME}|${LITELLM_DB_USER}|${LITELLM_DB_PASS}

# ---------- LiteLLM Configuration ----------
# Empty DB URL - will be generated by get-db-url.sh inside container
LITELLM_DATABASE_URL=
# Master API key for LiteLLM
LITELLM_MASTER_KEY=sk-update-this-now
# Salt key for password hashing
LITELLM_SALT_KEY=sk-update-this-also
# Whether to persist models in DB
STORE_MODEL_IN_DB=true
LITELLM_LOG=DEBUG

# ---------- n8n Configuration ----------
# Required! Secret for credential encryption
N8N_ENCRYPTION_KEY=n8n-secure-encryption-key-2025
# Required! For JWT in user management
N8N_USER_MANAGEMENT_JWT_SECRET=n8n-secure-jwt-secret-2025
# Enable workflow runners (for improved execution mode)
N8N_RUNNERS_ENABLED=true
# Disable sending telemetry data
N8N_DIAGNOSTICS_ENABLED=false
# Disable personalization features
N8N_PERSONALIZATION_ENABLED=false
