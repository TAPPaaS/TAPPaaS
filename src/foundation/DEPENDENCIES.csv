File name,Location,Direct dependencies,Config files read
# ==========================================================================================
# TAPPaaS Foundation Layer - Direct Dependencies
# Generated: 2026-02-22
# ==========================================================================================

# ------------------------------------------------------------------------------------------
# Python CLI Tools (installed to /home/tappaas/bin/)
# ------------------------------------------------------------------------------------------
opnsense-controller,tappaas-cicd/opnsense-controller/,config.py; dhcp_manager.py; firewall_manager.py; vlan_manager.py,None
zone-manager,tappaas-cicd/opnsense-controller/,config.py; dhcp_manager.py; firewall_manager.py; vlan_manager.py,zones.json
dns-manager,tappaas-cicd/opnsense-controller/,config.py; dhcp_manager.py,None
opnsense-firewall,tappaas-cicd/opnsense-controller/,config.py; firewall_manager.py,None
update-tappaas,tappaas-cicd/update-tappaas/,update-node (subprocess),configuration.json
update-node,tappaas-cicd/update-tappaas/,ssh; module update.sh scripts,/home/tappaas/config/*.json

# ------------------------------------------------------------------------------------------
# Shell Scripts in /home/tappaas/bin/ (from tappaas-cicd/scripts/)
# ------------------------------------------------------------------------------------------
common-install-routines.sh,tappaas-cicd/scripts/,None (library),<module>.json; zones.json; module-fields.json
copy-update-json.sh,tappaas-cicd/scripts/,None,module-fields.json; <module>.json
create-configuration.sh,tappaas-cicd/scripts/,None (creates configuration.json),None (generates configuration.json)
setup-caddy.sh,tappaas-cicd/scripts/,opnsense-firewall (optional),configuration.json
update-cron.sh,tappaas-cicd/scripts/,None,None
update-os.sh,tappaas-cicd/scripts/,None,None
check-disk-threshold.sh,tappaas-cicd/scripts/,resize-disk.sh,<vmname>.json
resize-disk.sh,tappaas-cicd/scripts/,None,<vmname>.json
test-config.sh,tappaas-cicd/scripts/,None,module-fields.json; /home/tappaas/config/*.json
install-module.sh,tappaas-cicd/scripts/,copy-update-json.sh; common-install-routines.sh; module install.sh; service install-service.sh scripts,<module>.json
update-module.sh,tappaas-cicd/scripts/,common-install-routines.sh; module pre-update.sh; module update.sh; service update-service.sh scripts,<module>.json

# ------------------------------------------------------------------------------------------
# Script on Proxmox Nodes
# ------------------------------------------------------------------------------------------
Create-TAPPaaS-VM.sh,cluster/,None,<vmname>.json; zones.json

# ------------------------------------------------------------------------------------------
# tappaas-cicd module scripts
# ------------------------------------------------------------------------------------------
install1.sh,tappaas-cicd/,install2.sh (via nixos-rebuild),None
install2.sh,tappaas-cicd/,create-configuration.sh; update-module.sh; setup-caddy.sh,None
pre-update.sh,tappaas-cicd/,common-install-routines.sh,<vmname>.json
update.sh (tappaas-cicd),tappaas-cicd/,common-install-routines.sh; update-cron.sh,<vmname>.json
test.sh (tappaas-cicd),tappaas-cicd/,test-vm-creation/test.sh,None

# ------------------------------------------------------------------------------------------
# cluster module scripts
# ------------------------------------------------------------------------------------------
install.sh (cluster),cluster/,None,None
update.sh (cluster),cluster/,None,zones.json

# ------------------------------------------------------------------------------------------
# firewall module scripts
# ------------------------------------------------------------------------------------------
update.sh (firewall),firewall/,zone-manager,zones.json

# ------------------------------------------------------------------------------------------
# backup module scripts
# ------------------------------------------------------------------------------------------
install.sh (backup),backup/,copy-update-json.sh; common-install-routines.sh,backup.json; zones.json
update.sh (backup),backup/,None,None
backup-manage.sh,backup/,common-install-routines.sh,backup.json
restore.sh,backup/,common-install-routines.sh,backup.json

# ------------------------------------------------------------------------------------------
# identity module scripts
# ------------------------------------------------------------------------------------------
install.sh (identity),identity/,update.sh (identity),None
update.sh (identity),identity/,common-install-routines.sh,<vmname>.json

# ------------------------------------------------------------------------------------------
# template service scripts
# ------------------------------------------------------------------------------------------
install-service.sh (templates/nixos),templates/services/nixos/,update-service.sh (templates/nixos),None
update-service.sh (templates/nixos),templates/services/nixos/,common-install-routines.sh; update-os.sh,<module>.json
install-service.sh (templates/debian),templates/services/debian/,update-service.sh (templates/debian),None
update-service.sh (templates/debian),templates/services/debian/,common-install-routines.sh; update-os.sh,<module>.json

# ------------------------------------------------------------------------------------------
# cluster service scripts
# ------------------------------------------------------------------------------------------
install-service.sh (cluster/vm),cluster/services/vm/,copy-update-json.sh; common-install-routines.sh; Create-TAPPaaS-VM.sh (remote),<module>.json
update-service.sh (cluster/vm),cluster/services/vm/,None,None
install-service.sh (cluster/ha),cluster/services/ha/,update-service.sh (cluster/ha),None
update-service.sh (cluster/ha),cluster/services/ha/,common-install-routines.sh,<module>.json

# ------------------------------------------------------------------------------------------
# test-vm-creation scripts
# ------------------------------------------------------------------------------------------
test.sh (test-vm-creation),tappaas-cicd/test-vm-creation/,install-module.sh; test-vm.sh,<test>.json
test-vm.sh,tappaas-cicd/test-vm-creation/,common-install-routines.sh,<vmname>.json
install.sh (test-vm-creation),tappaas-cicd/test-vm-creation/,None,None

# ------------------------------------------------------------------------------------------
# PHP files
# ------------------------------------------------------------------------------------------
InterfaceAssignController.php,tappaas-cicd/opnsense-patch/,None (OPNsense API patch),None
