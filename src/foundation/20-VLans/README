# VLANS and switch configuration

## Introduction

## Create VLANs

TODO: create automation script

- go to Interfaces -> Devices -> VLAN and add vlans
- go to the created VLAN as interfaces and configure static IP according to VLAN specs
- go to Services -> ISC DHCPv4 -> <Vlan> and configure IP range for DHCP

- Each of the LAN/VLAN interfaces
  - IPv6 Configuration type = Static IPv6
  - IPv6 address: The assigned IPv6 range potentially subdivided into sub ranges ending in ::1 and handed out as a 64 bit network range
  - save and apply
- create Router advertisement on each local interface LAN/VLAN: Services -> Router advisement -: (V)LAN
  - Router Advertisements = Managed
  - DNS Options, tick the Use the DNS configuration of the DHCPv6 server

### create VLAN firewall rules

general for each interface some firewall rules needs to be configured

- WAN: there should be a default rule to NOT pass any traffic. keep that
- DMZ: allow DMZ to communicate to internet, but not locally
  - block LAN, and other VLANs
  - create a pass rule for the rest
- Remaining LAN/VLANs: add rule to allow/pass any to any traffic
- for Guest/client: add first rule to block/reject traffic to LAN (management)
  - for "true guests" block access to other vlans except DMZ


Note: all rules are for both IPv4 and IPv6





## Configuring switch and WiFi infrastructure

at this point TAPPaaS do not contain recomendation, instructions or automation for configuring 
the switching infrastructure and the WiFi access points.

But here are some highlights on what you should be doing

### Switching


### Wifi

